server {    
    server_name _;
    listen 80;
    pagespeed FileCachePath /config/cache/pagespeed_temp/default;
    pagespeed LoadFromFile "https://[your website url]/" "/config/www";
    pagespeed MaxCacheableContentLength -1;
    pagespeed ImageResolutionLimitBytes 128000000;
    pagespeed EnableFilters inline_images,convert_jpeg_to_webp,convert_to_webp_lossless,convert_to_webp_animated,recompress_webp;
    pagespeed MapOriginDomain http://localhost:80 https://[your website url];
    pagespeed SslCertDirectory /config/key;
    pagespeed SslCertFile ca.crt;
    pagespeed Domain http*://*[your website url];
    #listen 443 ssl;
    #ssl_certificate /config/keys/cert.crt;
    #ssl_certificate_key /config/keys/cert.key;
    root /config/www;
    index index.php;
    location ~ "\.pagespeed\.([a-z]\.)?[a-z]{2}\.[^.]{10}\.[^.]+" {
    	add_header "" "";
    }
    location ~ "^/pagespeed_static/" { }
    location ~ "^/ngx_pagespeed_beacon$" { }
    location / {
        try_files $uri $uri/ /index.php?$args ;
    }
	location ~ \.php$ {
		fastcgi_split_path_info ^(.+\.php)(/.+)$;
		fastcgi_pass unix:/var/run/php/php7.2-fpm.sock;
		fastcgi_index index.php;
		include /config/nginx/fastcgi_params;

	}
}
